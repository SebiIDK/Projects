Version 4
SHEET 1 1684 680
WIRE -128 -128 -128 -144
WIRE -32 -128 -32 -144
WIRE 368 -16 352 -16
WIRE 544 -16 448 -16
WIRE 768 0 736 0
WIRE 880 0 832 0
WIRE 1152 0 1056 0
WIRE 1312 0 1232 0
WIRE 432 48 432 32
WIRE 240 64 208 64
WIRE 352 64 352 -16
WIRE 352 64 320 64
WIRE 400 64 352 64
WIRE 1056 64 1056 0
WIRE 1056 64 1008 64
WIRE 1120 64 1056 64
WIRE 544 80 544 -16
WIRE 544 80 464 80
WIRE 624 80 544 80
WIRE 736 80 736 0
WIRE 736 80 704 80
WIRE 768 80 736 80
WIRE 1216 80 1184 80
WIRE 1312 80 1312 0
WIRE 1312 80 1296 80
WIRE 1376 80 1312 80
WIRE 1424 80 1376 80
WIRE 1632 80 1424 80
WIRE 208 96 208 64
WIRE 208 96 64 96
WIRE 240 96 208 96
WIRE 352 96 320 96
WIRE 400 96 352 96
WIRE 880 96 880 0
WIRE 880 96 832 96
WIRE 912 96 880 96
WIRE 928 96 912 96
WIRE 1008 96 1008 64
WIRE 1120 96 1104 96
WIRE 768 112 736 112
WIRE 432 128 432 112
WIRE 64 144 64 96
WIRE 736 144 736 112
WIRE 1424 176 1424 80
WIRE 1424 176 1408 176
WIRE 1440 176 1424 176
WIRE 1344 272 1344 176
WIRE 1440 272 1408 272
WIRE 1504 272 1504 176
WIRE 1344 320 1344 272
WIRE 1504 320 1504 272
WIRE 1424 384 1344 384
WIRE 1504 384 1424 384
WIRE 1424 400 1424 384
WIRE 352 432 352 96
WIRE 784 480 416 480
WIRE 1632 480 1632 80
WIRE 1632 480 864 480
WIRE 352 560 352 528
FLAG 64 224 0
FLAG -128 -144 V+
FLAG -32 -144 V-
FLAG -128 -48 0
FLAG -32 -48 0
FLAG 352 560 0
FLAG 736 144 0
FLAG 800 64 V+
FLAG 432 32 V+
FLAG 544 80 Vout_dr
FLAG 1104 96 0
FLAG 1152 112 V+
FLAG 1152 48 V-
FLAG 1376 80 v_out_comp
FLAG 1424 400 0
FLAG 432 128 V-
FLAG 800 128 V-
FLAG 912 96 Vout_tri
DATAFLAG 1552 80 ""
SYMBOL voltage 64 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcomanda
SYMATTR Value -3
SYMBOL res 336 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 336 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL LM741 432 16 R0
SYMATTR InstName U1
SYMBOL res 464 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL voltage -128 -144 R0
SYMATTR InstName V+
SYMATTR Value 5
SYMBOL voltage -32 -144 R0
SYMATTR InstName V-
SYMATTR Value -5
SYMBOL npn 416 432 M0
SYMATTR InstName Q1
SYMBOL res 720 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 4.7k
SYMBOL LM741 800 32 R0
SYMATTR InstName U2
SYMBOL cap 832 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 22n
SYMBOL res 1024 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 2.2k
SYMBOL res 1248 16 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL LM741 1152 144 M180
SYMATTR InstName U3
SYMBOL diode 1344 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 1440 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 1408 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 1504 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 1328 320 R0
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode 1520 384 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL res 880 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 1312 96 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 100
TEXT 208 -248 Left 2 ;.tran 0 5ms 0 0.01m
TEXT 208 -200 Left 2 !.dc Vcomanda 0 3 0.1
TEXT 208 -160 Left 2 !.step param Vcomanda -1 3 -1
